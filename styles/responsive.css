/* Mobile Responsiveness Foundation */

/* Prevent horizontal overflow globally */
html,
body {
  overflow-x: hidden;
  max-width: 100%;
}

/* Grid scaling - unified approach for desktop and mobile using scale */
.grid-layout {
  /* Calculate scale factors for width and height */
  /* Account for navigation bar height: --height-button + --space-md */
  /* Use slightly less than available space to ensure no edge case overflow */
  --nav-height: calc(var(--height-button) + var(--space-md));
  --scale-width: calc((100vw - 2rem) / var(--grid-width));
  --scale-height: calc((100vh - var(--nav-height) - 2rem) / var(--grid-height));
  /* Use the smaller scale factor to fit both dimensions, but never scale up beyond 1 */
  /* Desktop: If viewport is large, scale = 1 (natural size) */
  /* Mobile: Scale down to fit both width and height (no overflow) */
  /* Cap at 1 for desktop, but allow scaling down for mobile */
  --scale-factor: min(var(--scale-width), var(--scale-height), 1);
  transform: scale(var(--scale-factor)) !important;
  transform-origin: center center;
  will-change: transform;
  /* Keep original grid dimensions - scaling handles the sizing */
  width: var(--grid-width);
  height: var(--grid-height);
  box-sizing: border-box;
  overflow: visible;
  margin: 0 auto;
}

/* Grid container - unified approach */
.grid-container-wrapper {
  /* When grid is scaled down (mobile), it fits perfectly - no scroll needed */
  /* When grid is natural size (desktop), allow scroll if needed */
  /* Since we scale to fit both dimensions, if either dimension requires scaling, */
  /* the scaled grid will fit, so we can use hidden. Only use auto when scale = 1 */
  overflow-y: hidden;
  overflow-x: hidden;
  position: relative;
  height: 100vh;
  min-height: 100vh;
  overscroll-behavior: contain;
  /* Center the grid both horizontally and vertically */
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  max-width: 100vw;
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

/* Utility classes for manual mobile adjustments if needed */
.mobile-full-width {
  width: 100% !important;
  max-width: 100% !important;
}

.mobile-stack {
  flex-direction: column !important;
}

.mobile-hide {
  display: none !important;
}

.mobile-only {
  display: block !important;
}

.desktop-only {
  display: block !important;
}

/* No media queries - desktop and mobile are identical */
